<!DOCTYPE html>
<html>
  <head>
    <title>Ex</title>
  </head>

  <div class="container" id="container">
    <div class="div1" id="div1">
      this is div1.
    </div>
    <div class="div2" id="div2">
      this is div2.
    </div>
  </div>

  <script>
    'use strict';
    var d1 = document.getElementById('div1');
    var d2 = document.getElementById('div2');
    var container = document.getElementById('container');
    var newNode = document.createElement("span");
    var ct = document.createTextNode('dddd');
    newNode.appendChild(ct);
    // container.insertBefore(newNode, d1.nextSibling);
    // container.insertBefore(newNode, null);

    insertAfter(newNode, d1);

    function insertAfter(newEl, targetEl) {
      var parentEl = targetEl.parentNode;
      /*
      // 其实不需要判断是否是最后一个节点，然后 appendChild。
      if (targetEl === parent.lastChild) {
        parentEl.appendChild(newEl);
      } else {
        parentEl.insertBefore(newEl, targetEl.nextSibling);
      }
      */
      parentEl.insertBefore(newEl, targetEl.nextSibling);
    }
  </script>
</html>
